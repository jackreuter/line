{% extends '_layouts/base.html' %}

{% block page_title %}Links | {% endblock %}

{% block page_content %}


<!-- ADD funtionality to buttons
<button type="submit" style="font-size:10px; margin-left:5%;">Upload Picture</button>
<button type="submit" style="font-size:10px; margin-left:1%;">Edit Caption</button>
 --> 

<h3 class="centered">
  {{ user_object.first_name }}
</h3>

<div class="centered">
  <img src={{ user_object.get_image_url }} class="img-circle" width="200">
</div>




<h1 class="centered" style="color:#BABABA;">
  Young adult novel enthusiast
</h1>
</div>


<div style="height:75px;" class="centered">
    <form action="#" method="get">
    <button class="resize nopadding" value="FOLLOW" name="follow-button"id="follow">
    </button>
    <style>
      #follow{
      background-image: url({{ STATIC_URL }}img/Plus.png);
      background-size: 100%;
      }
    </style>
  </form>
</div>

<div class="horizontalline centered" style="margin-left:130px; margin-bottom:20px;">

</div>

<div>
      <img src="{{ STATIC_URL }}img/Tag_icon.png" class="resize" style="margin-left:85%; margin-bottom:20px;">
</div>

{% for post in post_list %}

<div id="content" ></div>
<div class="container">

  <div class="media">
    
    <!-- EVEN MORE left-->
    <div div class="col-sm-1" style="margin-left:-10px; margin-top:10px; padding-bottom:80px;">
    {% if not post.is_link %}
      <span style="margin-left:42px;">
        <img src="{{ STATIC_URL }}img/Reline.png" class="resizeicon"> 
      </span>


        <!--change href to link to user's profile, change title to short_name when implemented -->
        <a href="{{ post.original.posted_by.get_profile_page_url }}" data-toggle="tooltip" title="{{ post.original.posted_by.get_long_name }}" data-placement="bottom">
      <img  src="{{ post.original.posted_by.get_image_url }}" class="img-circle"  width="40">
      </a>  


    {% endif %}
    </div>

    <!-- LEFT --> 
    <div class="col-sm-2" id="hide">
     <!--change href to link to user's profile, change title to short_name when implemented -->
       <a href="{{ post.posted_by.get_profile_page_url }}" data-toggle="tooltip" title="{{ post.posted_by.get_long_name }}" data-placement="bottom">
      <img src="{{ post.posted_by.get_image_url }}" class="img-circle" width="90">
        </a>
      <span>
        <h4>
          {{ post.created_at }}
        </h4>
      </span>

    </div>

    <!--CENTER --> 

<div class="col-sm-6" style="margin-left:-5%;"> 
       <!--For some reason this only works for the first post --> 

      <a id="summary-button">
      <button class="pull-right" style="margin-top:10px; margin-right:-5%;" >
        â†“
      </button>
      </a>
      
      <div id="summary">
      <a href="{{ post.get_url }}" class="embedly-card"></a>    
      </div>


     <!--Link name --> 
    <div>
      <h1 style="margin-top:10px; margin-right:80%;" >
      <a href="{{ post.get_url }}">  
      <!--This doesn't pull from the DB properly or load-->
      {{ post.title }} 
      </a>
      </h1>

      <!-- progress bar; need to add counting variable -->

<span>
      <div style="width: {{ post.get_hotness_percent }}%;">
          <div class="progress-bar" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="90" style="width: {{ post.get_hotness_percent }}%; height: 10px;">
          </div>
      </div>


      <div>
       <form>
            <a >
                  <button id="plus" class="btn btn-default" name="{{ post.get_repost_button_name }}"  data-toggle="modal" data-target="#tagfriends" style="margin-left:100%; margin-top:-7%;">
                  +
                  </button>
          <div class="modal fade" id="tagfriends" role="dialog" aria-hidden="true">
          <div class="modal-dialog">
  <!--INSERT TAGGING FRIENDS CODE HERE, this button reposts for now-->
                 <button name="{{ post.get_repost_button_name }}">
                </button>

          </div>
          </div>
       <!--  <style>
        #plus{
  background-image: url({{ STATIC_URL }}img/Plus.png);
          background-size: 100%;
          pull-image:right;
}
</style> --> 
           </a>
      </form>
    </div>
</span>


    </div>

</div>
 

    <!-- RIGHT--> 
    <div class="col-sm-2">


      <div style="margin-top:30px;">
        {% if post.tag1 %}
          <a href="{{ post.tag1.get_profile_page_url }}" data-toggle="tooltip" title="{{ post.tag1.username }}" data-placement="bottom" id="tag">
        <img src={{ post.tag1.get_image_url }} class="img-circle" width="40" style="" >
        </a>
        {% endif %}
        {% if post.tag2 %}
         <a href="{{ post.tag2.get_profile_page_url }}" data-toggle="tooltip" title="{{ post.tag2.username }}" data-placement="bottom" id="tag">
        <img src={{ post.tag1.get_image_url }} class="img-circle" width="40" style="" >
        </a>
        {% endif %}
        {% if post.tag3 %}
        <a href="{{ post.tag3.get_profile_page_url }}" data-toggle="tooltip" title="{{ post.tag3.username }}" data-placement="bottom" id="tag">
        <img src={{ post.tag1.get_image_url }} class="img-circle" width="40" style="" >
        </a>
        {% endif %}
        {% if post.tag4 %}
         <a href="{{ post.tag4.get_profile_page_url }}" data-toggle="tooltip" title="{{ post.tag4.username }}" data-placement="bottom" id="tag">
        <img src={{ post.tag1.get_image_url }} class="img-circle" width="40" style="" >
        </a>
        {% endif %}
         {% if post.tag5 %}
         <a href="{{ post.tag5.get_profile_page_url }}" data-toggle="tooltip" title="{{ post.tag5.username }}" data-placement="bottom" id="tag">
        <img src={{ post.tag1.get_image_url }} class="img-circle" width="40" style="" >
        </a>
        {% endif %}
         {% if post.tag5 %}
         <a href="{{ post.tag6.get_profile_page_url }}" data-toggle="tooltip" title="{{ post.tag6.username }}" data-placement="bottom" id="tag">
        <img src={{ post.tag1.get_image_url }} class="img-circle" width="40" style="" >
        </a>
        {% endif %}
      </div>
     
    </div>

    <div class="span">
      <form action="#" method="get">
      </form>
    </div>


  </div>
</div>


{% empty %}
<li>No links!</li>
{% endfor %}

</div>


{% endblock %}


</body>
<!--
{% if error_message %}<p><strong>{{ error_message }}</strong></p>{% endif %}

-->


